<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Is the US government still shutdown?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <style>
        .container{
            color: #CFB48A;
            padding: 2em;
            padding-top: 10em;
        }
        
        .footer{
            background-color:#CFB48A;
            padding: 0 20%;
        }
        
        html, body{
            height: 100%;
        }
        
        body{
            background-image: linear-gradient(rgb(94, 113, 136), rgb(67, 81, 99));
        }

        #overlay {
            position: fixed; /* Sit on top of the page content */
            display: block; /* Hidden by default */
            width: 100%; /* Full width (cover the whole page) */
            height: 100%; /* Full height (cover the whole page) */
            top: 0; 
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #163151; /* Black background with opacity */
            z-index: 2; /* Specify a stack order in case you're using a different order for other elements */
            cursor: pointer; /* Add a pointer on hover */
            padding-top: 10em;
            color: #CFB48A;
        }

        .loader-holder{
            padding-left: calc(50% - 60px);
        }

        .loader {
            border: 16px solid #CFB48A; /* Light grey */
            border-top: 16px solid #163151; /* Blue */
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 1s linear infinite;
        }

        #shutdown-result{
            font-size: 100pt;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        a, a:hover,  a:visited{
            color: #163151;
        }
    </style>

    <script>
        MESSAGE_TEXT = {
            "result": {
                true: [ "Yeah...", "Yep...", "Sure is :(", "Sigh... Yes." ],
                false: [ "Not any more!", "No!", "We're back in business!", "Nope." ]
            },
            "message": {
                true: "The US government's still shutdown.",
                false: "Looks like they cared enough to let people back to work. About time!"
            }
        }

        $.get( "shutdown.json", function(data){
            var result_message_index = Math.floor(Math.random() * MESSAGE_TEXT.result[data.is_shutdown].length);

            $("#shutdown-result").html(MESSAGE_TEXT.result[data.is_shutdown][result_message_index]);
            $("#shutdown-message").html(MESSAGE_TEXT.message[data.is_shutdown]);

            if (data.link) {
                $("#shutdown-message").append("<br/><span>Proof: <a href=\"" + data.link + "\">" + data.link + "</a>" );
            }

            //huehuehue
            if (Math.floor(Math.random() * 10000) == 0){
                window.location="/503.html";
            }

            setTimeout(function(){ $("#overlay").hide(); }, 300);
        });
    </script>
</head>
<body>

    <div id="overlay" class="text-center">
        <div class="loader-holder">
            <div class="loader"></div>
        </div>
        <br/>
        <span>Hmmm... Let's see...</span>
    </div>

    <div class="text-center container">
        <h1 id="shutdown-result">{{ShutdownResult}}</h1>
        <h3 id="shutdown-message">{{ShutdownMessage}}</h3>
    </div>
    <div class="fixed-bottom footer">
        <span>This won't be totally up-to-date.</span>
    </div>
</body>
</html>